# π›°οΈ G1 LiDAR μ¤νΈλ¦¬λ° & λ·°μ–΄

Livox Mid-360 LiDARλ¥Ό Jetson Orin NXλ¥Ό ν†µν•΄ μ¤νΈλ¦¬λ°ν•κ³ ,
Macμ—μ„ μ‹¤μ‹κ°„ 3D ν¬μΈνΈ ν΄λΌμ°λ“λ΅ μ‹κ°ν™”ν•λ” μμ μ…λ‹λ‹¤.

---

## π“‹ μ”κµ¬μ‚¬ν•­ (Prerequisites)

### Jetson Orin NX
- **OS**: Ubuntu 20.04 (JetPack 5.x)
- **Livox SDK2**: `/usr/local/lib/liblivox_lidar_sdk_shared.so` μ„¤μΉ ν•„μ”
- **λ„¤νΈμ›ν¬**:
  - LiDAR μ—°κ²°: 192.168.123.164 (μ μ„ )
  - WiFi: 10.40.100.143 (λ™μΌ λ„¤νΈμ›ν¬)
- **μ»΄νμΌλ¬**: g++ (C++14 μ§€μ›)
- **CMake**: 3.10 μ΄μƒ

#### Vendor SDK μ„¤μΉ (Jetsonμ—μ„ ν• λ²λ§ μ‹¤ν–‰)

**Livox SDK2 μ„¤μΉ:**
```bash
git clone https://github.com/Livox-SDK/Livox-SDK2.git
cd Livox-SDK2
mkdir build && cd build
cmake .. && make -j$(nproc)
sudo make install
```

### Mac (λ·°μ–΄ μ‹¤ν–‰)
- **Python**: 3.7 μ΄μƒ
- **λΌμ΄λΈλ¬λ¦¬**:
  ```bash
  pip3 install matplotlib numpy
  ```
- **λ„¤νΈμ›ν¬**: Jetsonκ³Ό λ™μΌ WiFi (10.40.100.x λ€μ—­)

---

## π“‚ ν”„λ΅μ νΈ κµ¬μ΅°

```
LiDAR/
β”β”€β”€ build/                      # λΉλ“ κ²°κ³Όλ¬Ό (μλ™ μƒμ„±)
β”‚   β”β”€β”€ g1_lidar_stream         # μ‹¤ν–‰ νμΌ (C++ μ»΄νμΌ κ²°κ³Ό)
β”‚   β”β”€β”€ CMakeCache.txt          # CMake μΊμ‹
β”‚   β””β”€β”€ Makefile                # Make μ„¤μ •
β”‚
β”β”€β”€ g1_lidar_stream.cpp         # λ©”μΈ C++ ν”„λ΅κ·Έλ¨
β”‚   β””β”€ LiDAR λ°μ΄ν„° μμ‹  β†’ UDP μ „μ†΅
β”‚
β”β”€β”€ g1_mid360_config.json       # LiDAR λ„¤νΈμ›ν¬ μ„¤μ •
β”‚   β””β”€ IP, ν¬νΈ, λ©€ν‹°μΊμ¤νΈ κµ¬μ„±
β”‚
β”β”€β”€ lidar_viewer.py             # Macμ© Python λ·°μ–΄
β”‚   β””β”€ UDP μμ‹  β†’ 3D μ‹κ°ν™”
β”‚
β”β”€β”€ CMakeLists.txt              # CMake λΉλ“ μ„¤μ •
β”‚   β””β”€ Livox SDK λ§ν¬, μ»΄νμΌ μµμ…
β”‚
β”β”€β”€ build_lidar.sh              # λΉλ“ μλ™ν™” μ¤ν¬λ¦½νΈ
β”‚   β””β”€ mkdir build β†’ cmake β†’ make
β”‚
β””β”€β”€ README.md                   # ν”„λ΅μ νΈ λ¬Έμ„ (μ΄ νμΌ)
```

### νμΌλ³„ μ—­ν• 

| νμΌ | νƒ€μ… | μ—­ν•  | μμ • ν•„μ” μ‹κΈ° |
|------|------|------|----------------|
| `g1_lidar_stream.cpp` | C++ μ†μ¤ | Livox SDKλ΅ LiDAR λ°μ΄ν„° μμ‹ , UDP μ „μ†΅ | κΈ°λ¥ μ¶”κ°€/μμ • |
| `g1_mid360_config.json` | JSON | LiDAR λ„¤νΈμ›ν¬ μ„¤μ • (IP, ν¬νΈ) | λ„¤νΈμ›ν¬ λ³€κ²½ |
| `lidar_viewer.py` | Python | Macμ—μ„ UDP μμ‹ , matplotlib 3D μ‹κ°ν™” | μ‹κ°ν™” μµμ… λ³€κ²½ |
| `CMakeLists.txt` | CMake | λΉλ“ μ„¤μ • (λΌμ΄λΈλ¬λ¦¬, μ»΄νμΌ μµμ…) | κ±°μ μ—†μ |
| `build_lidar.sh` | Shell | λΉλ“ μλ™ν™” (cmake + make) | κ±°μ μ—†μ |
| `build/` | ν΄λ” | μ»΄νμΌ κ²°κ³Όλ¬Ό μ €μ¥ | μλ™ μƒμ„±λ¨ |

---

## π“¦ κµ¬μ„± μ”μ•½

### π§© λ„¤νΈμ›ν¬ κµ¬μ„±

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ LiDAR (192.168.123.120)                        β”‚
β”‚  β”β”€ UDP 56300 β†’ ν¬μΈνΈν΄λΌμ°λ“ λ°μ΄ν„°                β”‚
β”‚  β”β”€ UDP 56100 β†’ λ…λ Ή μμ‹  (μ μ–΄)                   β”‚
β”‚  β””β”€ λ©€ν‹°μΊμ¤νΈ μ£Όμ†: 224.1.1.5                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                      β”‚
                      β”‚ (μ μ„  μ—°κ²°)
                      β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Jetson Orin NX                                 β”‚
β”‚  β”β”€ 192.168.123.164 (LiDAR μ „μ© LAN)            β”‚
β”‚  β”β”€ 10.40.100.143 (WiFi, Mac μ—°κ²°)              β”‚
β”‚  β”β”€ SDK ν¬νΈ: 56101 / 56301 / ...               β”‚
β”‚  β””β”€ LiDAR λ°μ΄ν„° β†’ MacμΌλ΅ UDP μ „μ†΅                β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                      β”‚
                      β”‚ (WiFi)
                      β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Mac (10.40.100.105 μμ‹)                        β”‚
β”‚  β”β”€ 8888 ν¬νΈ μμ‹                                β”‚
β”‚  β””β”€ lidar_viewer.pyλ΅ μ‹κ°ν™”                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## β™οΈ λ„¤νΈμ›ν¬ μ„¤μ •

`g1_mid360_config.json` νμΌμ μ„¤μ •μ— λ”°λΌ LiDAR β†” Jetson ν†µμ‹ μ΄ κµ¬μ„±λ©λ‹λ‹¤.

```json
"lidar_net_info": {
  "cmd_data_port": 56100,
  "point_data_port": 56300
},
"host_net_info": [
  {
    "host_ip": "192.168.123.164",
    "multicast_ip": "224.1.1.5",
    "point_data_port": 56301
  }
]
```

- **LiDAR IP (192.168.123.120)**
  β†’ λ…λ Ήμ„ λ°›μ„ μ£Όμ† (Jetsonμ΄ μ ‘κ·Ό)
- **Jetson IP (192.168.123.164)**
  β†’ λ°μ΄ν„°λ¥Ό λ°›μ„ νΈμ¤νΈ μ£Όμ†
- **λ©€ν‹°μΊμ¤νΈ μ£Όμ† (224.1.1.5)**
  β†’ LiDARκ°€ λ°μ΄ν„°λ¥Ό λ°©μ†΅ν•λ” κ·Έλ£Ή μ£Όμ†
- **UDP ν¬νΈ (56300 / 56301)**
  β†’ ν¬μΈνΈν΄λΌμ°λ“ λ°μ΄ν„° μ†΅μ‹ /μμ‹  ν¬νΈ

π’΅ Jetsonμ€ LiDARμ— "Normal λ¨λ“λ΅ μ „ν™ν•λΌ"κ³  λ…λ Ή(SetLivoxLidarWorkMode)μ„ λ³΄λ‚΄κ³ ,
LiDARλ” 224.1.1.5:56300μΌλ΅ ν¬μΈνΈν΄λΌμ°λ“λ¥Ό κ³„μ† μ „μ†΅ν•©λ‹λ‹¤.

---

## π”¨ λΉλ“ λ°©λ²•

C++ μ½”λ“λ¥Ό μμ •ν•κ±°λ‚ μ²μ μ‚¬μ©ν•  λ• λΉλ“κ°€ ν•„μ”ν•©λ‹λ‹¤.

### λ°©λ²• 1: μλ™ λΉλ“ μ¤ν¬λ¦½νΈ (κ¶μ¥)

```bash
cd /home/unitree/AIM/LiDAR
./build_lidar.sh
```

**μλ™μΌλ΅ μν–‰λλ” μ‘μ—…:**
1. `build/` ν΄λ” μƒμ„±
2. CMake μ„¤μ • (`cmake ..`)
3. μ»΄νμΌ (`make`)
4. μ‹¤ν–‰ λ°©λ²• μ•λ‚΄ μ¶λ ¥

### λ°©λ²• 2: μλ™ λΉλ“

```bash
cd /home/unitree/AIM/LiDAR
mkdir -p build
cd build
cmake ..
make
```

**λΉλ“ μ„±κ³µ ν™•μΈ:**
```bash
ls -lh build/g1_lidar_stream
# μ¶λ ¥: -rwxrwxr-x 1 unitree unitree 15K ... g1_lidar_stream
```

### λ‹¤μ‹ λΉλ“κ°€ ν•„μ”ν• κ²½μ°

- `g1_lidar_stream.cpp` μμ •
- `CMakeLists.txt` μμ •
- `build/` ν΄λ” μ‚­μ  ν›„

### λΉλ“ λ¶ν•„μ”ν• κ²½μ°

- `g1_mid360_config.json` μμ • (λ°νƒ€μ„ μ„¤μ •)
- `lidar_viewer.py` μμ • (Pythonμ€ μ»΄νμΌ μ—†μ)
- Mac IP λ³€κ²½ (μ‹¤ν–‰ μ‹ μΈμλ΅ μ „λ‹¬)

---

## π€ μ‹¤ν–‰ μμ„

### 1οΈβƒ£ Macμ—μ„ Jetson IP ν™•μΈ

Mac ν„°λ―Έλ„μ—μ„ Jetsonμ΄ μ†ν• κ°™μ€ λ€μ—­(10.40.100.x)μ„ μ°Ύμµλ‹λ‹¤.

```bash
ifconfig | grep "inet " | grep -v 127.0.0.1
```

κ²°κ³Ό μμ‹:

```
inet 10.40.100.105  netmask 0xffffff00  broadcast 10.40.100.255
```

β†’ μ΄ μ£Όμ†(10.40.100.105)λ¥Ό Jetson μ‹¤ν–‰ λ…λ Ήμ— μ‚¬μ©ν•©λ‹λ‹¤.

---

### 2οΈβƒ£ Jetsonμ—μ„ LiDAR μ¤νΈλ¦¬λ° μ‹¤ν–‰

```bash
./build/g1_lidar_stream g1_mid360_config.json 10.40.100.105 8888
```

- `g1_mid360_config.json` β†’ λ„¤νΈμ›ν¬ μ„¤μ • νμΌ
- `10.40.100.105` β†’ λ°μ΄ν„°λ¥Ό λ°›μ„ Mac IP
- `8888` β†’ UDP μ „μ†΅ ν¬νΈ

Jetsonμ€ LiDARλ΅λ¶€ν„° λ°›μ€ ν¬μΈνΈν΄λΌμ°λ“λ¥Ό
Macμ 10.40.100.105:8888λ΅ μ‹¤μ‹κ°„ μ „μ†΅ν•©λ‹λ‹¤.

---

### 3οΈβƒ£ Macμ—μ„ μ‹¤μ‹κ°„ λ·°μ–΄ μ‹¤ν–‰

```bash
python lidar_viewer.py
```

- UDP 8888 ν¬νΈλ¥Ό μ—΄μ–΄ Jetsonμ—μ„ μ¤λ” λ°μ΄ν„°λ¥Ό μμ‹ 
- matplotlib 3Dλ΅ μ‹¤μ‹κ°„ μ‹κ°ν™”
- LiDARκ°€ κ±°κΎΈλ΅ λ‹¬λ¦° κ²½μ° FLIP_X/Y/Z μµμ…μΌλ΅ μ¶• λ°μ „ κ°€λ¥

---

## π”§ μƒμ„Έ μ„¤μ •

### C++ μ¤νΈλ¦¬λ° ν”„λ΅κ·Έλ¨ (g1_lidar_stream.cpp)

**μ£Όμ” κΈ°λ¥:**

1. **Livox SDK μ΄κΈ°ν™”**
   - `g1_mid360_config.json` νμΌ λ΅λ“
   - LiDAR μ¥μΉ κ²€μƒ‰ λ° μ—°κ²°

2. **ν¬μΈνΈ ν΄λΌμ°λ“ μ½λ°±**
   ```cpp
   void PointCloudCallback(uint32_t handle, const uint8_t dev_type,
                          LivoxLidarEthernetPacket* data, void* client_data)
   ```
   - LiDAR λ°μ΄ν„° μμ‹  μ‹ μλ™ νΈμ¶
   - (0,0,0) λ¬΄ν¨ ν¬μΈνΈ ν•„ν„°λ§
   - mm β†’ m λ‹¨μ„ λ³€ν™
   - UDPλ΅ Macμ— μ „μ†΅

3. **λ°μ΄ν„° κµ¬μ΅° (13 bytes, packed)**
   ```cpp
   struct __attribute__((packed)) SimplePoint {
       float x, y, z;      // 12 bytes (κ° 4 bytes)
       uint8_t intensity;  // 1 byte
   };
   ```

4. **μ „μ†΅ ν†µκ³„**
   - 100 ν”„λ μ„λ§λ‹¤ ν†µκ³„ μ¶λ ¥
   - μ „μ†΅λ ν¬μΈνΈ μ, λ°”μ΄νΈ μ

### Python λ·°μ–΄ μ„¤μ • (lidar_viewer.py)

**μ»¤μ¤ν„°λ§μ΄μ§• μµμ…:**

```python
# μΆν‘ λ³€ν™ (LiDAR λ°©ν–¥ λ³΄μ •)
FLIP_X = False  # Xμ¶• λ°μ „
FLIP_Y = True   # Yμ¶• λ°μ „ (μΌλ°μ )
FLIP_Z = True   # Zμ¶• λ°μ „ (κ±°κΎΈλ΅ μ¥μ°© μ‹)

# μ„±λ¥ μ„¤μ •
max_points = 30000        # μµλ€ ν‘μ‹ ν¬μΈνΈ μ
clear_interval = 200      # λ²„νΌ μ΄κΈ°ν™” μ£ΌκΈ° (ν”„λ μ„)

# κ±°λ¦¬ ν•„ν„°
MAX_RANGE = 10.0          # μµλ€ κ±°λ¦¬ (λ―Έν„°)
MIN_RANGE = 0.1           # μµμ† κ±°λ¦¬ (λ―Έν„°)
```

**μ¶• λ°μ „ κ°€μ΄λ“:**
- μ‹κ°ν™”κ°€ λ’¤μ§‘ν€ λ³΄μ΄λ©΄ FLIP μµμ… μ΅°μ •
- LiDAR μ¥μ°© λ°©ν–¥μ— λ”°λΌ λ‹¬λΌμ§
- μ—¬λ¬ μ΅°ν•©μ„ μ‹λ„ν•΄λ³΄μ„Έμ”

**μ„±λ¥ νλ‹:**
- `max_points` β†“ β†’ λΉ λ¥Έ λ λ”λ§, μ μ€ ν¬μΈνΈ
- `clear_interval` β†“ β†’ μµμ‹  λ°μ΄ν„°λ§, κΉ¨λ—ν• ν™”λ©΄
- `clear_interval` β†‘ β†’ ν¬μΈνΈ λ„μ , λ°€λ„ λ†’μ€ ν΄λΌμ°λ“

---

## π§ λ„¤νΈμ›ν¬ μ—°κ²° ν…μ¤νΈ

μ‹κ°ν™”κ°€ μ• λ³΄μΌ κ²½μ° μ•„λ λ‹¨κ³„λ΅ μ κ²€ν•©λ‹λ‹¤:

```bash
# Mac λ°©ν™”λ²½ μƒνƒ ν™•μΈ
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --getglobalstate

# λ°©ν™”λ²½ λ„κΈ° (μΌμ‹μ μΌλ΅)
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --setglobalstate off
```

UDP ν†µμ‹ μ΄ λλ”μ§€ κ°„λ‹¨ν ν™•μΈν•λ ¤λ©΄:

```bash
nc -ul 8888
```

β†’ κΉ¨μ§„ λ¬Έμ(λ°”μ΄λ„λ¦¬ λ°μ΄ν„°)κ°€ κ³„μ† λ“¤μ–΄μ¤λ©΄ Jetson β†” Mac UDP μ—°κ²° μ„±κ³µ β…

---

## π§  μ°Έκ³ : ν†µμ‹  κµ¬μ΅° μ΄ν•΄ν•κΈ°

| κµ¬λ¶„ | IP/μ£Όμ† | ν¬νΈ | λ°©ν–¥ | μ„¤λ… |
|------|---------|------|------|------|
| LiDAR | 192.168.123.120 | 56300 | β†’ | ν¬μΈνΈν΄λΌμ°λ“ μ „μ†΅ (UDP) |
| Jetson | 192.168.123.164 | 56301 | β† | LiDAR λ°μ΄ν„° μμ‹  |
| λ©€ν‹°μΊμ¤νΈ | 224.1.1.5 | - | β†” | μ—¬λ¬ μ¥μΉκ°€ λ™μ‹μ— μμ‹  κ°€λ¥ |
| Jetson β†’ Mac | 10.40.100.143 β†’ 10.40.100.105 | 8888 | β†’ | Jetsonμ΄ MacμΌλ΅ λ°μ΄ν„° μ¬μ „μ†΅ |

---

## π’΅ μ¶”κ°€ ν

- **LiDAR μ—°κ²° ν™•μΈ**:

```bash
ping 192.168.123.120
```

- **Jetsonμ΄ LiDAR ν¬νΈλ¥Ό μ—΄κ³  μλ”μ§€ ν™•μΈ**:

```bash
sudo netstat -unlp | grep 563
```

- **ν¬μΈνΈ μ¤νΈλ¦¬λ° λ΅κ·Έ ν™•μΈ**:

```
μ „μ†΅ #100: 96 ν¬μΈνΈ, 1248 λ°”μ΄νΈ
```

---

## π§Ύ μ”μ•½

| λ‹¨κ³„ | μ—­ν•  | λ…λ Ή |
|------|------|------|
| β‘  | Mac IP ν™•μΈ | `ifconfig` |
| β‘΅ | Jetson μ¤νΈλ¦¬λ° μ‹¤ν–‰ | `./build/g1_lidar_stream g1_mid360_config.json 10.40.100.105 8888` |
| β‘Ά | Mac λ·°μ–΄ μ‹¤ν–‰ | `python lidar_viewer.py` |
| β‘£ | μ• λ  λ• μ κ²€ | λ°©ν™”λ²½ / `nc -ul 8888` |

---

## π“ κ°λ… μ •λ¦¬ (κ°„λ‹¨ν)

| κ°λ… | μ„¤λ… |
|------|------|
| LiDAR IP (192.168.123.120) | λ…λ Ήμ„ λ°›μ„ λ€μƒ μ£Όμ† |
| UDP ν¬νΈ (56300/56301) | λ°μ΄ν„°λ¥Ό μ†΅μμ‹ ν•λ” ν†µλ΅ |
| λ©€ν‹°μΊμ¤νΈ (224.1.1.5) | μ—¬λ¬ μ¥μΉμ— λ™μ‹μ— λ°μ΄ν„° λ°©μ†΅ |
| UDP ν”„λ΅ν† μ½ | λΉ λ¥΄κ³  μ‹¤μ‹κ°„, μ•½κ°„μ μ†μ‹¤μ€ ν—μ© |
| TCPμ™€ μ°¨μ΄μ  | ν™•μΈ μ‘λ‹µμ΄ μ—†μ–΄ μ†λ„ λΉ λ¦„ (LiDAR, μμƒ λ“±μ— μ ν•©) |

---

## β— νΈλ¬λΈ”μν…

### λ¬Έμ  1: λΉλ“ μ‹¤ν¨

**μ¦μƒ:**
```
fatal error: livox_lidar_def.h: No such file or directory
```

**ν•΄κ²°:**
- Livox SDK2κ°€ μ„¤μΉλμ§€ μ•μ
- μ„¤μΉ: [Livox SDK2 GitHub](https://github.com/Livox-SDK/Livox-SDK2)

### λ¬Έμ  2: Macμ—μ„ λ°μ΄ν„°κ°€ μ• λ³΄μ„

**μ κ²€ μμ„:**

1. **Mac IP ν™•μΈ**
   ```bash
   ifconfig | grep "inet " | grep -v 127.0.0.1
   # Jetson μ‹¤ν–‰ μ‹ μ¬λ°”λ¥Έ IP μ‚¬μ©ν–λ”μ§€ ν™•μΈ
   ```

2. **λ°©ν™”λ²½ ν™•μΈ**
   ```bash
   sudo /usr/libexec/ApplicationFirewall/socketfilterfw --getglobalstate
   # "enabled"λ©΄ μΌμ‹μ μΌλ΅ λ„κΈ°
   ```

3. **UDP μμ‹  ν…μ¤νΈ**
   ```bash
   nc -ul 8888
   # λ°”μ΄λ„λ¦¬ λ°μ΄ν„°κ°€ λ“¤μ–΄μ¤λ©΄ λ„¤νΈμ›ν¬ OK
   ```

4. **Jetson λ΅κ·Έ ν™•μΈ**
   ```
   "LiDAR μ—°κ²°: S/N 47MDLCD0020008"  # μ—°κ²° μ„±κ³µ
   "μ „μ†΅ #100: 96 ν¬μΈνΈ, 1248 λ°”μ΄νΈ"  # μ „μ†΅ μ¤‘
   ```

### λ¬Έμ  3: LiDARκ°€ μ—°κ²° μ• λ¨

**μ κ²€:**

1. **λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤**
   ```bash
   ip addr show | grep 192.168.123
   # 192.168.123.164κ°€ μμ–΄μ•Ό ν•¨
   ```

2. **LiDAR ping ν™•μΈ**
   ```bash
   ping 192.168.123.120
   # μ‘λ‹µ μμ–΄μ•Ό ν•¨
   ```

3. **λ°©ν™”λ²½ ν¬νΈ**
   ```bash
   sudo netstat -unlp | grep 563
   # 56301, 56100 λ“± ν¬νΈκ°€ μ—΄λ ¤μμ–΄μ•Ό ν•¨
   ```

### λ¬Έμ  4: μ‹κ°ν™”κ°€ κ±°κΎΈλ΅ λ³΄μ„

**ν•΄κ²°:**
- `lidar_viewer.py` νμΌμ—μ„ FLIP μµμ… μ΅°μ •
- μΌλ°μ μΌλ΅ `FLIP_Y=True`, `FLIP_Z=True`

### λ¬Έμ  5: λλ¦° μ„±λ¥ / λ ‰

**ν•΄κ²°:**
- `lidar_viewer.py`μ—μ„ `max_points` κ°’ μ¤„μ΄κΈ° (30000 β†’ 10000)
- `clear_interval` κ°’ μ¤„μ΄κΈ° (200 β†’ 100)

### λ¬Έμ  6: "SimplePoint κµ¬μ΅°μ²΄ ν¬κΈ°" κ²½κ³ 

**μ¦μƒ:**
```
SimplePoint κµ¬μ΅°μ²΄ ν¬κΈ°: 16 bytes (κΈ°λ€κ°’: 13)
```

**ν•΄κ²°:**
- `__attribute__((packed))`κ°€ λΉ μ΅μ„ μ μμ
- λ‹¤μ‹ λΉλ“: `./build_lidar.sh`

---

## π“ μ°Έκ³  μλ£

### κ³µμ‹ λ¬Έμ„
- [Livox SDK2 GitHub](https://github.com/Livox-SDK/Livox-SDK2)
- [Livox Mid-360 λ§¤λ‰΄μ–Ό](https://www.livoxtech.com/mid-360/downloads)
- [Unitree G1 Documentation](https://support.unitree.com/)

### κ΄€λ ¨ κ°λ…
- **LiDAR**: Light Detection and Ranging (λ μ΄μ € κΈ°λ° κ±°λ¦¬ μΈ΅μ •)
- **Point Cloud**: 3D κ³µκ°„μ μ λ“¤μ μ§‘ν•©
- **UDP Multicast**: μ—¬λ¬ μμ‹ μμ—κ² λ™μ‹ λ°μ΄ν„° μ „μ†΅
- **Livox SDK2**: Livox LiDAR μ μ–΄ λ° λ°μ΄ν„° μμ‹  λΌμ΄λΈλ¬λ¦¬

### λ„¤νΈμ›ν¬ ν¬νΈ μ°Έμ΅°

| ν¬νΈ | ν”„λ΅ν† μ½ | μ©λ„ |
|------|----------|------|
| 56100 | UDP | λ…λ Ή λ°μ΄ν„° (LiDAR μ μ–΄) |
| 56300 | UDP | ν¬μΈνΈ ν΄λΌμ°λ“ λ°μ΄ν„° (μ†΅μ‹ ) |
| 56301 | UDP | ν¬μΈνΈ ν΄λΌμ°λ“ λ°μ΄ν„° (μμ‹ ) |
| 8888 | UDP | Jetson β†’ Mac μ¤νΈλ¦¬λ° |

### λ°μ΄ν„° ν¬λ§·

**SimplePoint κµ¬μ΅°μ²΄ (13 bytes):**
```
Offset | Type    | Name      | Size
-------|---------|-----------|------
0      | float   | x         | 4
4      | float   | y         | 4
8      | float   | z         | 4
12     | uint8_t | intensity | 1
-------|---------|-----------|------
Total: 13 bytes (packed, no padding)
```

---

## π§­ κ²°λ΅ 

LiDARλ” 192.168.123.120 μ£Όμ†λ΅ Jetsonμ λ…λ Ήμ„ λ°›κ³ ,
224.1.1.5:56300μΌλ΅ ν¬μΈνΈ ν΄λΌμ°λ“λ¥Ό UDPλ΅ λ°©μ†΅ν•©λ‹λ‹¤.
Jetsonμ€ μ΄λ¥Ό 56301 ν¬νΈμ—μ„ λ°›μ•„ Mac(10.40.100.105:8888)μΌλ΅ μ¬μ „μ†΅ν•λ©°,
Macμ Python λ·°μ–΄λ” μ΄λ¥Ό 3Dλ΅ μ‹κ°ν™”ν•©λ‹λ‹¤.

---

Made with π’΅ by AIM Robotics
